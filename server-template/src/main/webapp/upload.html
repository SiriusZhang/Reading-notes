<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="http://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js"></script>
    <script src="assets/js/jquery/jquery.form.js"></script>
</head>
<body>

<div ng-app="myApp" ng-controller="formCtrl">
    <form id="uploadForm" method="post" enctype="multipart/form-data">
        <div class="contractBox">
            <span class="btn">上传合同</span>
            <input type="file" name="file" onchange="angular.element(this).scope().uploadFile(this)"  />
        </div>
    </form>
</div>

<script>
    var app = angular.module('myApp', []);
    app.controller('formCtrl', function($scope,$http) {

        $scope.uploadFile = function(file,key) {

            var data1 = {'userName':'fanbin','password':'123456'};
            $('#uploadForm').ajaxSubmit({
                dataType: "json",
                url : 'http://localhost:8080/file/fileUpload',
                data : data1,
                resetForm : true,
                beforeSend: function() {
                    console.log("beforeSend")
                },
                error:function(err){
                    console.log(err)
                },
                success: function(res,status,xhr) {
                    console.log(res)
                }
            })


        };
    });
</script>

</body>
</html>